<!--pages/guoqing/guoqing.wxml-->
<view class="pagecontainer">
  <image class="background-image"   src="/images/img-bag.png"></image>
  <view style="width: 100%;height:150rpx;opacity:1"></view>
  <!-- 画布大小按需定制 这里我按照背景图的尺寸定的  -->
<!-- <block wx:if="{{userInfo.avatarUrl && curHot == 1}}">
    <view class="container"  wx:if="{{!isSave}}"
          id="container"
          bind:touchstart="touchStart" 
          bind:touchend="touchEnd"
          bind:touchmove="touchMove">
    <image class="bg" src="{{userInfo.avatarUrl}}"></image>
    <icon type="cancel" class="cancel" id="cancel"
            style="top:{{cancelCenterY-10+'px'}};left:{{cancelCenterX-10+'px'}}"></icon>
    <icon type="waiting" class="handle"  id="handle"  color="green"
            style="top:{{handleCenterY-10+'px'}};left:{{handleCenterX-10+'px'}}"></icon>
    <image class="hat" id='hat' src="../../images/{{hotArr[curHot].key}}/hat{{defaultImg}}.png"
    style="top:{{hatCenterY-hatSize/2-2+'px'}};left:{{hatCenterX-hatSize/2-2+'px'}};transform:rotate({{rotate+'deg'}}) scale({{scale}})"
    ></image>
    </view>
      <canvas wx:else class="myCanvas" canvas-id="myCanvas" style="height:260px;width:100%;"/>
    
</block>
<block wx:else>
  <view class="canver-view" >
  <canvas canvas-id="shareImg" style="width:260px;height: 260px;"></canvas>
  </view>

</block> -->


  <view class="container"  wx:if="{{!isSave}}"
          id="container"
          bind:touchstart="touchStart" 
          bind:touchend="touchEnd"
          bind:touchmove="touchMove">
    <image class="bg" src="{{userInfo.avatarUrl}}"></image>
    <icon wx:if="{{curHot == 1}}" type="cancel" class="cancel" id="cancel"
            style="top:{{cancelCenterY-10+'px'}};left:{{cancelCenterX-10+'px'}}"></icon>
    <icon wx:if="{{curHot == 1}}" type="waiting" class="handle"  id="handle"  color="green"
            style="top:{{handleCenterY-10+'px'}};left:{{handleCenterX-10+'px'}}"></icon>
    <image wx:if="{{curHot == 1}}" class="hat" id='hat' src="../../images/{{hotArr[curHot].key}}/hat{{defaultImg}}.png"
    style="top:{{hatCenterY-hatSize/2-2+'px'}};left:{{hatCenterX-hatSize/2-2+'px'}};transform:rotate({{rotate+'deg'}}) scale({{scale}})"
    ></image>

    <image class="hat-other" wx:if="{{curHot != 1}}" id='hat' src="../../images/{{hotArr[curHot].key}}/hat{{defaultImg}}.png"
    ></image>
    </view>
    <canvas wx:else class="myCanvas" canvas-id="myCanvas" style="height:260px;width:100%;"/>



<view class='canvas-view-right'>  
    <button bindtap="getUserProfile" class="btn1">获取头像</button>
    <button wx:if="{{!isAuthSavePhoto}}" bindtap="save" class="btn1" style="background-color: #B2085A;">保存头像</button>
    <button wx:else bindtap="showModal" class="btn1" style="background-color: #B2085A;">保存头像</button>
</view>

<view class="hot-biz" style="width: 90%;margin-top: 10px;border-radius: 10px"> 
  <view class="hot-top">
    <block wx:for="{{hotArr}}">
      <view class="{{curHot == index ? 'tx' : 'tx-normal'}}" bindtap="selectHot" data-index="{{index}}">
      {{item.name}}
    </view>
    </block>
  </view>

  <view class="hot-item-list">
    <scroll-view scroll-x style="height: 52px;" wx:if="{{list.length > 0}}">
      <view class="hot-biz-list"  >
        <view class="item" wx:for="{{list}}" wx:key="id">
          <image bindtap='selectImg' data-id='{{item}}' data-src='../../images/{{hotArr[curHot].key}}/hat{{item}}.png' src="../../images/{{hotArr[curHot].key}}/hat{{item}}.png" mode='aspectFill'></image>
        </view>
      </view> 

    </scroll-view>
    <view class="no-data"  wx:else>暂无数据</view>
  </view>
</view>
</view>
<!-- 
<view  class="logo">
  <image src="../../images/20190906-logo2.png" height="50px" class="header"></image>
</view> -->


